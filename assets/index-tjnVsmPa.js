(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const Se=!1,Oe=(e,t)=>e===t,T=Symbol("solid-proxy"),ee=Symbol("solid-track"),z={equals:Oe};let ue=be;const k=1,F=2,de={owned:null,cleanups:null,context:null,owner:null};var g=null;let Z=null,Te=null,d=null,h=null,A=null,J=0;function K(e,t){const n=d,l=g,r=e.length===0,s=t===void 0?l:t,f=r?de:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=r?e:()=>e(()=>M(()=>P(f)));g=f,d=null;try{return N(i,!0)}finally{d=n,g=l}}function le(e,t){t=t?Object.assign({},z,t):z;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},l=r=>(typeof r=="function"&&(r=r(n.value)),we(n,r));return[he.bind(n),l]}function L(e,t,n){const l=oe(e,t,!1,k);I(l)}function Ee(e,t,n){ue=Ne;const l=oe(e,t,!1,k);l.user=!0,A?A.push(l):I(l)}function V(e,t,n){n=n?Object.assign({},z,n):z;const l=oe(e,t,!0,0);return l.observers=null,l.observerSlots=null,l.comparator=n.equals||void 0,I(l),he.bind(l)}function te(e){return N(e,!1)}function M(e){if(d===null)return e();const t=d;d=null;try{return e()}finally{d=t}}function ge(e){Ee(()=>M(e))}function _e(e){return g===null||(g.cleanups===null?g.cleanups=[e]:g.cleanups.push(e)),e}function ne(){return d}function he(){if(this.sources&&this.state)if(this.state===k)I(this);else{const e=h;h=null,N(()=>q(this),!1),h=e}if(d){const e=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(e)):(d.sources=[this],d.sourceSlots=[e]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return this.value}function we(e,t,n){let l=e.value;return(!e.comparator||!e.comparator(l,t))&&(e.value=t,e.observers&&e.observers.length&&N(()=>{for(let r=0;r<e.observers.length;r+=1){const s=e.observers[r],f=Z&&Z.running;f&&Z.disposed.has(s),(f?!s.tState:!s.state)&&(s.pure?h.push(s):A.push(s),s.observers&&ye(s)),f||(s.state=k)}if(h.length>1e6)throw h=[],new Error},!1)),t}function I(e){if(!e.fn)return;P(e);const t=J;Ce(e,e.value,t)}function Ce(e,t,n){let l;const r=g,s=d;d=g=e;try{l=e.fn(t)}catch(f){return e.pure&&(e.state=k,e.owned&&e.owned.forEach(P),e.owned=null),e.updatedAt=n+1,me(f)}finally{d=s,g=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?we(e,l):e.value=l,e.updatedAt=n)}function oe(e,t,n,l=k,r){const s={fn:e,state:l,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:g,context:g?g.context:null,pure:n};return g===null||g!==de&&(g.owned?g.owned.push(s):g.owned=[s]),s}function H(e){if(e.state===0)return;if(e.state===F)return q(e);if(e.suspense&&M(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<J);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===k)I(e);else if(e.state===F){const l=h;h=null,N(()=>q(e,t[0]),!1),h=l}}function N(e,t){if(h)return e();let n=!1;t||(h=[]),A?n=!0:A=[],J++;try{const l=e();return je(n),l}catch(l){n||(A=null),h=null,me(l)}}function je(e){if(h&&(be(h),h=null),e)return;const t=A;A=null,t.length&&N(()=>ue(t),!1)}function be(e){for(let t=0;t<e.length;t++)H(e[t])}function Ne(e){let t,n=0;for(t=0;t<e.length;t++){const l=e[t];l.user?e[n++]=l:H(l)}for(t=0;t<n;t++)H(e[t])}function q(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const l=e.sources[n];if(l.sources){const r=l.state;r===k?l!==t&&(!l.updatedAt||l.updatedAt<J)&&H(l):r===F&&q(l,t)}}}function ye(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=F,n.pure?h.push(n):A.push(n),n.observers&&ye(n))}}function P(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),l=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const s=r.pop(),f=n.observerSlots.pop();l<r.length&&(s.sourceSlots[f]=l,r[l]=s,n.observerSlots[l]=f)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)P(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)P(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function De(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function me(e,t=g){throw De(e)}const Le=Symbol("fallback");function ie(e){for(let t=0;t<e.length;t++)e[t]()}function Pe(e,t,n={}){let l=[],r=[],s=[],f=0,i=t.length>1?[]:null;return _e(()=>ie(s)),()=>{let o=e()||[],c=o.length,u,a;return o[ee],M(()=>{let w,S,O,R,U,b,y,m,_;if(c===0)f!==0&&(ie(s),s=[],l=[],r=[],f=0,i&&(i=[])),n.fallback&&(l=[Le],r[0]=K(xe=>(s[0]=xe,n.fallback())),f=1);else if(f===0){for(r=new Array(c),a=0;a<c;a++)l[a]=o[a],r[a]=K(E);f=c}else{for(O=new Array(c),R=new Array(c),i&&(U=new Array(c)),b=0,y=Math.min(f,c);b<y&&l[b]===o[b];b++);for(y=f-1,m=c-1;y>=b&&m>=b&&l[y]===o[m];y--,m--)O[m]=r[y],R[m]=s[y],i&&(U[m]=i[y]);for(w=new Map,S=new Array(m+1),a=m;a>=b;a--)_=o[a],u=w.get(_),S[a]=u===void 0?-1:u,w.set(_,a);for(u=b;u<=y;u++)_=l[u],a=w.get(_),a!==void 0&&a!==-1?(O[a]=r[u],R[a]=s[u],i&&(U[a]=i[u]),a=S[a],w.set(_,a)):s[u]();for(a=b;a<c;a++)a in O?(r[a]=O[a],s[a]=R[a],i&&(i[a]=U[a],i[a](a))):r[a]=K(E);r=r.slice(0,f=c),l=o.slice(0)}return r});function E(w){if(s[a]=w,i){const[S,O]=le(a);return i[a]=O,t(o[a],S)}return t(o[a])}}}function $(e,t){return M(()=>e(t||{}))}function fe(e){const t="fallback"in e&&{fallback:()=>e.fallback};return V(Pe(()=>e.each,e.children,t||void 0))}function Be(e,t,n){let l=n.length,r=t.length,s=l,f=0,i=0,o=t[r-1].nextSibling,c=null;for(;f<r||i<s;){if(t[f]===n[i]){f++,i++;continue}for(;t[r-1]===n[s-1];)r--,s--;if(r===f){const u=s<l?i?n[i-1].nextSibling:n[s-i]:o;for(;i<s;)e.insertBefore(n[i++],u)}else if(s===i)for(;f<r;)(!c||!c.has(t[f]))&&t[f].remove(),f++;else if(t[f]===n[s-1]&&n[i]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(n[i++],t[f++].nextSibling),e.insertBefore(n[--s],u),t[r]=n[s]}else{if(!c){c=new Map;let a=i;for(;a<s;)c.set(n[a],a++)}const u=c.get(t[f]);if(u!=null)if(i<u&&u<s){let a=f,E=1,w;for(;++a<r&&a<s&&!((w=c.get(t[a]))==null||w!==u+E);)E++;if(E>u-i){const S=t[f];for(;i<u;)e.insertBefore(n[i++],S)}else e.replaceChild(n[i++],t[f++])}else f++;else t[f++].remove()}}}const ce="_$DX_DELEGATE";function Ge(e,t,n,l={}){let r;return K(s=>{r=s,t===document?e():v(t,e(),t.firstChild?null:void 0,n)},l.owner),()=>{r(),t.textContent=""}}function x(e,t,n,l){let r;const s=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},f=()=>(r||(r=s())).cloneNode(!0);return f.cloneNode=f,f}function pe(e,t=window.document){const n=t[ce]||(t[ce]=new Set);for(let l=0,r=e.length;l<r;l++){const s=e[l];n.has(s)||(n.add(s),t.addEventListener(s,Ue))}}function Me(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Ie(e,t){t==null?e.removeAttribute("class"):e.className=t}function Re(e,t,n,l){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function v(e,t,n,l){if(n!==void 0&&!l&&(l=[]),typeof t!="function")return W(e,t,l,n);L(r=>W(e,t(),r,n),l)}function Ue(e){let t=e.target;const n=`$$${e.type}`,l=e.target,r=e.currentTarget,s=o=>Object.defineProperty(e,"target",{configurable:!0,value:o}),f=()=>{const o=t[n];if(o&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?o.call(t,c,e):o.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},i=()=>{for(;f()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const o=e.composedPath();s(o[0]);for(let c=0;c<o.length-2&&(t=o[c],!!f());c++){if(t._$host){t=t._$host,i();break}if(t.parentNode===r)break}}else i();s(l)}function W(e,t,n,l,r){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,f=l!==void 0;if(e=f&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===n))return n;if(f){let i=n[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),n=C(e,n,l,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean")n=C(e,n,l);else{if(s==="function")return L(()=>{let i=t();for(;typeof i=="function";)i=i();n=W(e,i,n,l)}),()=>n;if(Array.isArray(t)){const i=[],o=n&&Array.isArray(n);if(re(i,t,n,r))return L(()=>n=W(e,i,n,l,!0)),()=>n;if(i.length===0){if(n=C(e,n,l),f)return n}else o?n.length===0?ae(e,i,l):Be(e,n,i):(n&&C(e),ae(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(f)return n=C(e,n,l,t);C(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function re(e,t,n,l){let r=!1;for(let s=0,f=t.length;s<f;s++){let i=t[s],o=n&&n[e.length],c;if(!(i==null||i===!0||i===!1))if((c=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=re(e,i,o)||r;else if(c==="function")if(l){for(;typeof i=="function";)i=i();r=re(e,Array.isArray(i)?i:[i],Array.isArray(o)?o:[o])||r}else e.push(i),r=!0;else{const u=String(i);o&&o.nodeType===3&&o.data===u?e.push(o):e.push(document.createTextNode(u))}}return r}function ae(e,t,n=null){for(let l=0,r=t.length;l<r;l++)e.insertBefore(t[l],n)}function C(e,t,n,l){if(n===void 0)return e.textContent="";const r=l||document.createTextNode("");if(t.length){let s=!1;for(let f=t.length-1;f>=0;f--){const i=t[f];if(r!==i){const o=i.parentNode===e;!s&&!f?o?e.replaceChild(r,i):e.insertBefore(r,n):o&&i.remove()}else s=!0}}else e.insertBefore(r,n);return[r]}var Ke=x("<div>");function ze(e){const t=l=>{switch(l){case 0:return"bg-gray-200 dark:bg-gray-600";case 2:return"bg-yellow-100 dark:bg-yellow-300 text-gray-800";case 4:return"bg-yellow-200 dark:bg-yellow-400 text-gray-800";case 8:return"bg-orange-300 dark:bg-orange-400 text-white";case 16:return"bg-orange-400 dark:bg-orange-500 text-white";case 32:return"bg-orange-500 dark:bg-orange-600 text-white";case 64:return"bg-orange-600 dark:bg-orange-700 text-white";case 128:return"bg-yellow-400 dark:bg-yellow-500 text-white";case 256:return"bg-yellow-500 dark:bg-yellow-600 text-white";case 512:return"bg-yellow-600 dark:bg-yellow-700 text-white";case 1024:return"bg-yellow-700 dark:bg-yellow-800 text-white";case 2048:return"bg-yellow-800 dark:bg-yellow-900 text-white";default:return"bg-yellow-800 dark:bg-yellow-900 text-white"}},n=e.isNew&&e.value!==0?"tile-appear":"";return(()=>{var l=Ke();return v(l,()=>e.value!==0?e.value:""),L(()=>Ie(l,`w-16 h-16 flex items-center justify-center rounded font-bold text-xl ${t(e.value)} transition-colors ${n}`)),l})()}var Fe=x('<div class="grid grid-cols-4 gap-2 bg-gray-300 dark:bg-gray-700 p-2 rounded transition-colors">');const Ve=(e,t,n)=>n?n.row===e&&n.col===t:!1;function He(e){return(()=>{var t=Fe();return v(t,$(fe,{get each(){return e.board},children:(n,l)=>$(fe,{each:n,children:(r,s)=>$(ze,{value:r,get isNew(){return Ve(l(),s(),e.newTile)}})})})),t})()}var qe=x('<div class="mt-4 p-2 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 rounded text-center font-bold transition-colors">Game Over!');function We(e){return V(()=>V(()=>!!e.isGameOver)()&&qe())}var Xe=x('<div class="flex justify-between mb-4"><div class="bg-gray-300 dark:bg-gray-700 rounded p-2 transition-colors"><div class="text-sm font-semibold dark:text-gray-200">Score</div><div class="text-xl font-bold dark:text-white"></div></div><button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition-colors">New Game');function Qe(e){return(()=>{var t=Xe(),n=t.firstChild,l=n.firstChild,r=l.nextSibling,s=n.nextSibling;return v(r,()=>e.score),Re(s,"click",e.resetGame),t})()}pe(["click"]);var Ye=x('<button class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">'),Je=x('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"clip-rule=evenodd>'),Ze=x('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"viewBox="0 0 20 20"fill=currentColor><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">');const et=()=>{const[e,t]=le(!1),n=()=>{const l=!e();t(l),l?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return ge(()=>{const l=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches;(l==="dark"||!l&&r)&&(t(!0),document.documentElement.classList.add("dark"))}),(()=>{var l=Ye();return l.$$click=n,v(l,(()=>{var r=V(()=>!!e());return()=>r()?Je():Ze()})()),L(()=>Me(l,"aria-label",e()?"Switch to light theme":"Switch to dark theme")),l})()};pe(["click"]);const se=Symbol("store-raw"),j=Symbol("store-node"),p=Symbol("store-has"),ve=Symbol("store-self");function Ae(e){let t=e[T];if(!t&&(Object.defineProperty(e,T,{value:t=new Proxy(e,rt)}),!Array.isArray(e))){const n=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let r=0,s=n.length;r<s;r++){const f=n[r];l[f].get&&Object.defineProperty(e,f,{enumerable:l[f].enumerable,get:l[f].get.bind(t)})}}return t}function X(e){let t;return e!=null&&typeof e=="object"&&(e[T]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function B(e,t=new Set){let n,l,r,s;if(n=e!=null&&e[se])return n;if(!X(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let f=0,i=e.length;f<i;f++)r=e[f],(l=B(r,t))!==r&&(e[f]=l)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const f=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,c=f.length;o<c;o++)s=f[o],!i[s].get&&(r=e[s],(l=B(r,t))!==r&&(e[s]=l))}return e}function Q(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function G(e,t,n){if(e[t])return e[t];const[l,r]=le(n,{equals:!1,internal:!0});return l.$=r,e[t]=l}function tt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===T||t===j||(delete n.value,delete n.writable,n.get=()=>e[T][t]),n}function $e(e){ne()&&G(Q(e,j),ve)()}function nt(e){return $e(e),Reflect.ownKeys(e)}const rt={get(e,t,n){if(t===se)return e;if(t===T)return n;if(t===ee)return $e(e),n;const l=Q(e,j),r=l[t];let s=r?r():e[t];if(t===j||t===p||t==="__proto__")return s;if(!r){const f=Object.getOwnPropertyDescriptor(e,t);ne()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(f&&f.get)&&(s=G(l,t,s)())}return X(s)?Ae(s):s},has(e,t){return t===se||t===T||t===ee||t===j||t===p||t==="__proto__"?!0:(ne()&&G(Q(e,p),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:nt,getOwnPropertyDescriptor:tt};function Y(e,t,n,l=!1){if(!l&&e[t]===n)return;const r=e[t],s=e.length;n===void 0?(delete e[t],e[p]&&e[p][t]&&r!==void 0&&e[p][t].$()):(e[t]=n,e[p]&&e[p][t]&&r===void 0&&e[p][t].$());let f=Q(e,j),i;if((i=G(f,t,r))&&i.$(()=>n),Array.isArray(e)&&e.length!==s){for(let o=e.length;o<s;o++)(i=f[o])&&i.$();(i=G(f,"length",s))&&i.$(e.length)}(i=f[ve])&&i.$()}function ke(e,t){const n=Object.keys(t);for(let l=0;l<n.length;l+=1){const r=n[l];Y(e,r,t[r])}}function st(e,t){if(typeof t=="function"&&(t=t(e)),t=B(t),Array.isArray(t)){if(e===t)return;let n=0,l=t.length;for(;n<l;n++){const r=t[n];e[n]!==r&&Y(e,n,r)}Y(e,"length",l)}else ke(e,t)}function D(e,t,n=[]){let l,r=e;if(t.length>1){l=t.shift();const f=typeof l,i=Array.isArray(e);if(Array.isArray(l)){for(let o=0;o<l.length;o++)D(e,[l[o]].concat(t),n);return}else if(i&&f==="function"){for(let o=0;o<e.length;o++)l(e[o],o)&&D(e,[o].concat(t),n);return}else if(i&&f==="object"){const{from:o=0,to:c=e.length-1,by:u=1}=l;for(let a=o;a<=c;a+=u)D(e,[a].concat(t),n);return}else if(t.length>1){D(e[l],t,[l].concat(n));return}r=e[l],n=[l].concat(n)}let s=t[0];typeof s=="function"&&(s=s(r,n),s===r)||l===void 0&&s==null||(s=B(s),l===void 0||X(r)&&X(s)&&!Array.isArray(s)?ke(r,s):Y(e,l,s))}function lt(...[e,t]){const n=B(e||{}),l=Array.isArray(n),r=Ae(n);function s(...f){te(()=>{l&&f.length===1?st(n,f[0]):D(n,f)})}return[r,s]}const ot=(e,t)=>{const n=[];for(let o=0;o<e.length;o++)for(let c=0;c<e[o].length;c++)e[o][c]===0&&n.push({row:o,col:c});if(n.length===0)return null;const l=Math.floor(Math.random()*n.length),{row:r,col:s}=n[l],f=Math.random()<.9?2:4,i=e.map(o=>[...o]);return i[r][s]=f,t(i),{row:r,col:s}};function it(e){for(let t=0;t<4;t++)for(let n=0;n<4;n++)if(e[t][n]===0)return!1;for(let t=0;t<4;t++)for(let n=0;n<3;n++)if(e[t][n]===e[t][n+1])return!1;for(let t=0;t<3;t++)for(let n=0;n<4;n++)if(e[t][n]===e[t+1][n])return!1;return!0}function ft(e,t,n){let l=!1;const r=e.map(s=>[...s]);for(let s=0;s<4;s++){const f=[!1,!1,!1,!1];for(let i=1;i<4;i++)if(r[s][i]!==0){let o=i;for(;o>0&&r[s][o-1]===0;)r[s][o-1]=r[s][o],r[s][o]=0,o--,l=!0;o>0&&r[s][o-1]===r[s][o]&&!f[o-1]&&(r[s][o-1]*=2,r[s][o]=0,n(c=>c+r[s][o-1]),f[o-1]=!0,l=!0)}}return l&&t(r),l}function ct(e,t,n){let l=!1;const r=e.map(s=>[...s]);for(let s=0;s<4;s++){const f=[!1,!1,!1,!1];for(let i=2;i>=0;i--)if(r[s][i]!==0){let o=i;for(;o<3&&r[s][o+1]===0;)r[s][o+1]=r[s][o],r[s][o]=0,o++,l=!0;o<3&&r[s][o+1]===r[s][o]&&!f[o+1]&&(r[s][o+1]*=2,r[s][o]=0,n(c=>c+r[s][o+1]),f[o+1]=!0,l=!0)}}return l&&t(r),l}function at(e,t,n){let l=!1;const r=e.map(s=>[...s]);for(let s=0;s<4;s++){const f=[!1,!1,!1,!1];for(let i=1;i<4;i++)if(r[i][s]!==0){let o=i;for(;o>0&&r[o-1][s]===0;)r[o-1][s]=r[o][s],r[o][s]=0,o--,l=!0;o>0&&r[o-1][s]===r[o][s]&&!f[o-1]&&(r[o-1][s]*=2,r[o][s]=0,n(c=>c+r[o-1][s]),f[o-1]=!0,l=!0)}}return l&&t(r),l}function ut(e,t,n){let l=!1;const r=e.map(s=>[...s]);for(let s=0;s<4;s++){const f=[!1,!1,!1,!1];for(let i=2;i>=0;i--)if(r[i][s]!==0){let o=i;for(;o<3&&r[o+1][s]===0;)r[o+1][s]=r[o][s],r[o][s]=0,o++,l=!0;o<3&&r[o+1][s]===r[o][s]&&!f[o+1]&&(r[o+1][s]*=2,r[o][s]=0,n(c=>c+r[o+1][s]),f[o+1]=!0,l=!0)}}return l&&t(r),l}const dt=()=>{const[e,t]=lt({board:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],score:0,gameOver:!1,newTile:{row:-1,col:-1}}),n=c=>{t("board",c)},l=c=>{t("score",c)},r=()=>{const c=ot(e.board,n);c&&t("newTile",c)},s=()=>{const c=it(e.board);return c&&t("gameOver",!0),c},f=()=>{te(()=>{t({board:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],score:0,gameOver:!1,newTile:{row:-1,col:-1}}),r(),r()})};return{state:e,initGame:f,resetGame:()=>{f()},handleKeyDown:c=>{if(e.gameOver)return;let u=!1;te(()=>{switch(c.key){case"ArrowUp":c.preventDefault(),u=at(e.board,n,l);break;case"ArrowDown":c.preventDefault(),u=ut(e.board,n,l);break;case"ArrowLeft":c.preventDefault(),u=ft(e.board,n,l);break;case"ArrowRight":c.preventDefault(),u=ct(e.board,n,l);break;default:return}u&&(r(),s())})}}};var gt=x('<div class="flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors"><div class="p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg transition-colors"><div class="flex justify-between items-center mb-4"><h1 class="text-4xl font-bold text-center text-gray-900 dark:text-white">2048</h1></div><div class="mt-4 text-gray-600 dark:text-gray-300 text-sm transition-colors">Use arrow keys to move the tiles.');function ht(){const e=dt(),{state:t,initGame:n,resetGame:l,handleKeyDown:r}=e;return ge(()=>(n(),window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)})),(()=>{var s=gt(),f=s.firstChild,i=f.firstChild;i.firstChild;var o=i.nextSibling;return v(i,$(et,{}),null),v(f,$(Qe,{get score(){return t.score},resetGame:l}),o),v(f,$(He,{get board(){return t.board},get newTile(){return t.newTile}}),o),v(f,$(We,{get isGameOver(){return t.gameOver}}),o),s})()}const wt=document.getElementById("root");Ge(()=>$(ht,{}),wt);
